<div class="view-container">
  <!-- Navigation Header -->
  <app-navigation-header [title]="title" />

  <!-- Main Content -->
  <main class="view-content">
    <!-- Loading State -->
    @if (isLoading()) {
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Loading lighting presets...</p>
      </div>
    }

    <!-- Error State -->
    @else if (error()) {
      <div class="error-state">
        <div class="error-icon">‚ö†Ô∏è</div>
        <h2>Failed to load presets</h2>
        <p>{{ error() }}</p>
      </div>
    }

    <!-- Empty State -->
    @else if (presets().length === 0) {
      <div class="empty-state">
        <div class="empty-icon">üí°</div>
        <h2>No lighting presets found</h2>
        <p>No Lighting Presets component found.</p>
      </div>
    }

    <!-- Lighting Presets -->
    @else {
      <div class="controls-header">
        <h2>{{ presets().length }} Preset{{ presets().length === 1 ? '' : 's' }}</h2>
        <button class="mode-toggle-button" (click)="toggleMode()">
          {{ advancedMode() ? 'Basic Mode' : 'Advanced Mode' }}
        </button>
      </div>

      <div class="presets-grid">
        @for (preset of presets(); track preset.presetNumber) {
          <div class="preset-card">
            <div class="preset-header">
              <h3>{{ preset.presetName }}</h3>
            </div>
            <div class="preset-actions">
              <!-- Load Button -->
              @if (preset.loadControl) {
                <button class="preset-button load-button" (click)="onLoadPreset(preset)">
                  Load
                </button>
              }

              <!-- Save Button (Advanced Mode Only) -->
              @if (advancedMode() && preset.saveControl) {
                <button class="preset-button save-button" (click)="onSavePreset(preset)">
                  Save
                </button>
              }
            </div>
          </div>
        }
      </div>
    }
  </main>
</div>
